# リポジトリ運用ルール

## SSoT（Single Source of Truth）

**このハンドブックが「今のやり方」の唯一の正解**。

- 現場のやり方とハンドブックは一致させる
- やり方を変えるなら、先にハンドブックを直す
- 複数の場所に同じルールを書かない

## 変更フロー

### ユーザー（看護職員）

1. ページ下部の「このページについて」からIssueを送信
2. 責任者が確認・対応
3. 対応完了でIssueクローズ

### 編集者（Claude Code含む）

1. ブランチを作成
2. 変更を加える
3. `mkdocs build --strict` でエラーなし確認
4. PRを作成（変更内容・理由・影響を記載）
5. レビューを受けてマージ

## PR に書くこと

- **何を直したか**: 変更箇所
- **どうして**: 変更理由
- **いつから**: 適用開始日（必要なら）
- **影響**: 他のページへの影響

## デプロイ

- `master` ブランチにマージ → 自動でGitHub Pagesに公開
- GitHub Actions が `mkdocs build` を実行
- 数分で反映

## 確認コマンド

```bash
# ローカルプレビュー
mkdocs serve

# ビルド確認（厳格モード）
mkdocs build --strict

# クリーンビルド
mkdocs build --clean
```

## Done の定義

- [ ] `mkdocs build --strict` がエラーなし
- [ ] 見た目（CSS/テーマ/HTML）を変えていない
- [ ] ページの型に沿っている
- [ ] frontmatter がある
- [ ] nav を更新した（新規ページの場合）
- [ ] 用語集リンクは初出のみ
